# äº”æ„Ÿç³»ç»Ÿä½¿ç”¨æŒ‡å—ï¼ˆæ–°æ ¼å¼ï¼‰

## ğŸ¯ æ ¸å¿ƒæ”¹è¿›

### 1. **å¤šå®ä¾‹æ”¯æŒ**
- âœ… åŒä¸€ç±»å‹çš„äº”æ„Ÿå¯ä»¥åˆ›å»ºå¤šä¸ªå®ä¾‹ï¼ˆå¦‚å¤šä¸ªå¬è§‰ã€è§¦è§‰ï¼‰
- âœ… æ¯ä¸ªå®ä¾‹æœ‰å”¯ä¸€IDï¼Œç‹¬ç«‹ç®¡ç†

### 2. **å›ºå®šåƒç´ åæ ‡**
- âœ… ä½¿ç”¨1920x1080ä¸ºåŸºå‡†çš„åƒç´ åæ ‡
- âœ… è‡ªåŠ¨ç¼©æ”¾é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- âœ… é¿å¼€ä¸­å¤®å¯¹è¯æ¡†åŒºåŸŸï¼ˆçº¦760-1160 x 340-740ï¼‰

### 3. **è·ç¦»æ„ŸçŸ¥**
- âœ… è·ç¦»å½±å“æ–‡å­—å¤§å°ï¼ˆ12-20pxï¼‰
- âœ… è·ç¦»å½±å“é€æ˜åº¦ï¼ˆ0.6-1.0ï¼‰
- âœ… æ˜¾ç¤ºè·ç¦»æè¿°ï¼š"å¾ˆè¿‘"ã€"è¾ƒè¿‘"ã€"ä¸­ç­‰"ã€"è¾ƒè¿œ"ã€"å¾ˆè¿œ"

## ğŸ“ æ•°æ®æ ¼å¼

### æ–°æ ¼å¼ï¼š`senseUpdates` æ•°ç»„

```javascript
{
    speaker: 'æ—ç™½',
    text: 'å¯¹è¯å†…å®¹...',
    senseUpdates: [
        {
            action: 'create',      // æ“ä½œç±»å‹
            id: 'unique_id',       // å”¯ä¸€ID
            senseType: 'å¬è§‰',     // æ„Ÿå®˜ç±»å‹
            value: 'æè¿°æ–‡æœ¬',      // æ„Ÿå®˜æè¿°
            position: { x: 300, y: 300 },  // åƒç´ åæ ‡ï¼ˆåŸºäº1920x1080ï¼‰
            distance: 80           // è·ç¦»ï¼ˆ0-100ï¼‰
        }
    ]
}
```

### æ—§æ ¼å¼ï¼š`updateSenses` å¯¹è±¡ï¼ˆä»æ”¯æŒï¼‰

```javascript
{
    speaker: 'æ—ç™½',
    text: 'å¯¹è¯å†…å®¹...',
    updateSenses: {
        å¬è§‰: 'ä½é¢‘å—¡é¸£å£°',
        è§¦è§‰: 'å†°å†·çš„å¹³é¢'
    }
}
```

## ğŸ”§ æ“ä½œç±»å‹

### 1. `create` - åˆ›å»ºæ–°å®ä¾‹

```javascript
{
    action: 'create',
    id: 'background_hum',           // å¿…éœ€ï¼šå”¯ä¸€ID
    senseType: 'å¬è§‰',              // å¿…éœ€ï¼šæ„Ÿå®˜ç±»å‹
    value: 'ä½é¢‘å—¡é¸£å£°',            // å¿…éœ€ï¼šæè¿°
    position: { x: 300, y: 300 },  // å¯é€‰ï¼šä½ç½®ï¼ˆé»˜è®¤ä½¿ç”¨æ„Ÿå®˜ç±»å‹çš„é»˜è®¤ä½ç½®ï¼‰
    distance: 80                    // å¯é€‰ï¼šè·ç¦»ï¼ˆé»˜è®¤50ï¼‰
}
```

### 2. `update` - æ›´æ–°ç°æœ‰å®ä¾‹

```javascript
{
    action: 'update',
    id: 'background_hum',           // å¿…éœ€ï¼šè¦æ›´æ–°çš„å®ä¾‹ID
    value: 'å—¡é¸£å£°æ¸å¼±',            // å¯é€‰ï¼šæ–°çš„æè¿°
    position: { x: 400, y: 400 },  // å¯é€‰ï¼šæ–°çš„ä½ç½®
    distance: 60                    // å¯é€‰ï¼šæ–°çš„è·ç¦»
}
```

### 3. `remove` - åˆ é™¤æŒ‡å®šå®ä¾‹

```javascript
{
    action: 'remove',
    id: 'background_hum'  // å¿…éœ€ï¼šè¦åˆ é™¤çš„å®ä¾‹ID
}
```

### 4. `removeByType` - åˆ é™¤æŸç±»å‹çš„æ‰€æœ‰å®ä¾‹

```javascript
{
    action: 'removeByType',
    senseType: 'å¬è§‰'  // å¿…éœ€ï¼šè¦åˆ é™¤çš„æ„Ÿå®˜ç±»å‹
}
```

## ğŸ“ ä½ç½®è§„åˆ’

### é»˜è®¤ä½ç½®ï¼ˆé¿å¼€ä¸­å¤®å¯¹è¯æ¡†ï¼‰

```javascript
è§†è§‰: { x: 960, y: 150 }    // é¡¶éƒ¨ä¸­å¤®
å¬è§‰: { x: 300, y: 300 }    // å·¦ä¸Šè§’
è§¦è§‰: { x: 1620, y: 900 }   // å³ä¸‹è§’
å—…è§‰: { x: 1620, y: 300 }   // å³ä¸Šè§’
å‘³è§‰: { x: 300, y: 900 }    // å·¦ä¸‹è§’
```

### å¯¹è¯æ¡†åŒºåŸŸï¼ˆé¿å…æ”¾ç½®ï¼‰

- ä¸­å¤®åŒºåŸŸï¼šçº¦ (760-1160, 340-740)
- å»ºè®®åœ¨å››ä¸ªè§’è½å’Œè¾¹ç¼˜åŒºåŸŸæ”¾ç½®äº”æ„Ÿ

### æ¨èä½ç½®å¸ƒå±€

```
(200,200)              (960,150)              (1720,200)
   å¬è§‰1                  è§†è§‰                   å—…è§‰1
   
(300,300)                                      (1620,300)
   å¬è§‰2                                         å—…è§‰2
                    
                    [å¯¹è¯æ¡†åŒºåŸŸ]
                    (760-1160)
                    (340-740)
                    
(300,900)                                      (1620,900)
   å‘³è§‰                                          è§¦è§‰
   
(200,1000)                                     (1720,1000)
```

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯1ï¼šå•ä¸ªäº”æ„Ÿé€æ­¥å‡ºç°

```javascript
part1: {
    dialogues: [
        {
            speaker: 'æ—ç™½',
            text: 'é¦–å…ˆæ¢å¤çš„æ˜¯å¬è§‰...',
            senseUpdates: [
                {
                    action: 'create',
                    id: 'hearing_1',
                    senseType: 'å¬è§‰',
                    value: 'ä½é¢‘å—¡é¸£å£°',
                    position: { x: 300, y: 300 },
                    distance: 80
                }
            ]
        },
        {
            speaker: 'æ—ç™½',
            text: 'æ¥ç€æ˜¯è§¦è§‰...',
            senseUpdates: [
                {
                    action: 'create',
                    id: 'touch_1',
                    senseType: 'è§¦è§‰',
                    value: 'å†°å†·çš„å¹³é¢',
                    position: { x: 1620, y: 900 },
                    distance: 10
                }
            ]
        }
    ]
}
```

### åœºæ™¯2ï¼šå¤šä¸ªåŒç±»å‹äº”æ„ŸåŒæ—¶å­˜åœ¨

```javascript
{
    speaker: 'æ—ç™½',
    text: 'ä½ åŒæ—¶å¬åˆ°äº†å¤šç§å£°éŸ³...',
    senseUpdates: [
        {
            action: 'create',
            id: 'sound_left',
            senseType: 'å¬è§‰',
            value: 'å·¦ä¾§ä¼ æ¥æœºæ¢°å£°',
            position: { x: 200, y: 400 },
            distance: 70
        },
        {
            action: 'create',
            id: 'sound_right',
            senseType: 'å¬è§‰',
            value: 'å³ä¾§ä¼ æ¥é€šé£å£°',
            position: { x: 1720, y: 400 },
            distance: 60
        },
        {
            action: 'create',
            id: 'sound_center',
            senseType: 'å¬è§‰',
            value: 'æ­£ä¸Šæ–¹çš„æ»´æ°´å£°',
            position: { x: 960, y: 100 },
            distance: 30
        }
    ]
}
```

### åœºæ™¯3ï¼šè·ç¦»å˜åŒ–ï¼ˆæ¨ç†çº¿ç´¢ï¼‰

```javascript
{
    speaker: 'æ—ç™½',
    text: 'è„šæ­¥å£°è¶Šæ¥è¶Šè¿‘...',
    senseUpdates: [
        {
            action: 'update',
            id: 'footsteps',
            value: 'è„šæ­¥å£°é€¼è¿‘ï¼ŒèŠ‚å¥æ€¥ä¿ƒ',
            distance: 40  // ä»90å˜ä¸º40
        }
    ]
}
```

### åœºæ™¯4ï¼šæ¸…é™¤ç‰¹å®šç±»å‹

```javascript
{
    speaker: 'åˆ©ç»´',
    text: 'ç³»ç»Ÿæ ¡å‡†ä¸­ï¼Œæš‚æ—¶å…³é—­å¬è§‰è¾“å…¥...',
    senseUpdates: [
        {
            action: 'removeByType',
            senseType: 'å¬è§‰'  // åˆ é™¤æ‰€æœ‰å¬è§‰å®ä¾‹
        }
    ]
}
```

### åœºæ™¯5ï¼šæ›¿æ¢å®ä¾‹

```javascript
{
    speaker: 'æ—ç™½',
    text: 'é»‘æš—è¢«å¾®å¼±çš„å…‰èŠ’å–ä»£...',
    senseUpdates: [
        {
            action: 'remove',
            id: 'darkness'  // åˆ é™¤é»‘æš—
        },
        {
            action: 'create',
            id: 'dim_light',
            senseType: 'è§†è§‰',
            value: 'å¾®å¼±çš„è“è‰²å…‰èŠ’ï¼Œå‹‰å¼ºèƒ½çœ‹æ¸…è½®å»“',
            position: { x: 960, y: 150 },
            distance: 20
        }
    ]
}
```

## ğŸ› è°ƒè¯•å·¥å…·

### æŸ¥çœ‹å½“å‰çŠ¶æ€

```javascript
SimpleSenseSystem.logCurrentState();
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
[SimpleSenseSystem] ===== å½“å‰çŠ¶æ€ =====
[SimpleSenseSystem] å®ä¾‹æ•°é‡: 3
[SimpleSenseSystem] å®¹å™¨å¯è§: true
[SimpleSenseSystem] ç¼©æ”¾æ¯”ä¾‹: 66.7%
  - hearing_1: å¬è§‰ - "ä½é¢‘å—¡é¸£å£°"
    åŸºå‡†ä½ç½®: (300, 300)
    å½“å‰ä½ç½®: (200, 200)
    è·ç¦»: 80 (è¾ƒè¿œ)
    å…ƒç´ å­˜åœ¨: true
```

### æ‰‹åŠ¨æ“ä½œ

```javascript
// åˆ›å»º
SimpleSenseSystem.createSense('å¬è§‰', 'æè¿°', { x: 300, y: 300 }, 50, 'my_id');

// æ›´æ–°
SimpleSenseSystem.updateSense('my_id', 'æ–°æè¿°', null, 30);

// åˆ é™¤
SimpleSenseSystem.removeSense('my_id');

// æŒ‰ç±»å‹åˆ é™¤
SimpleSenseSystem.removeSensesByType('å¬è§‰');

// æ¸…ç©ºæ‰€æœ‰
SimpleSenseSystem.clearAllSenses();
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **IDå”¯ä¸€æ€§**ï¼šæ¯ä¸ªå®ä¾‹çš„IDå¿…é¡»å”¯ä¸€ï¼Œå¦åˆ™ä¼šè¦†ç›–æ—§å®ä¾‹
2. **ä½ç½®è§„åˆ’**ï¼šé¿å…æ”¾ç½®åœ¨å¯¹è¯æ¡†åŒºåŸŸï¼ˆä¸­å¤®ï¼‰
3. **å®ä¾‹ç®¡ç†**ï¼šè®°å¾—åœ¨åˆé€‚çš„æ—¶æœºåˆ é™¤ä¸éœ€è¦çš„å®ä¾‹
4. **è·ç¦»é€»è¾‘**ï¼šè·ç¦»ä¸ä»…å½±å“è§†è§‰ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ¨ç†çº¿ç´¢
5. **å…¼å®¹æ€§**ï¼šæ—§æ ¼å¼`updateSenses`ä»ç„¶æ”¯æŒï¼Œä½†ä¸æ”¯æŒå¤šå®ä¾‹

## ğŸ“Š æœ€ä½³å®è·µ

1. **æ¸è¿›å¼æ˜¾ç¤º**ï¼šäº”æ„Ÿé€ä¸ªå‡ºç°ï¼Œä¸è¦ä¸€æ¬¡æ€§å…¨éƒ¨æ˜¾ç¤º
2. **ä½ç½®åˆ†æ•£**ï¼šé¿å…äº”æ„Ÿå…ƒç´ èšé›†åœ¨ä¸€èµ·
3. **è·ç¦»åˆç†**ï¼šæ ¹æ®å‰§æƒ…è®¾å®šåˆç†çš„è·ç¦»å€¼
4. **åŠæ—¶æ¸…ç†**ï¼šåœºæ™¯è½¬æ¢æ—¶æ¸…é™¤ä¸éœ€è¦çš„äº”æ„Ÿ
5. **è§†è§‰å±‚æ¬¡**ï¼šè¿‘è·ç¦»äº”æ„Ÿï¼ˆå¤§å­—ä½“ï¼‰ç”¨äºé‡è¦ä¿¡æ¯ï¼Œè¿œè·ç¦»ï¼ˆå°å­—ä½“ï¼‰ç”¨äºèƒŒæ™¯ä¿¡æ¯

